<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Détail Menu</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="menu-top">
    <div class="conteneur">
      <a href="index.html" style="text-decoration: none;">
        <div style="display: flex; align-items: center;">
          <div class="rond-logo">V&G</div>
          <span style="color: #8b2635; font-weight: bold; margin-left: 10px;">Vite & Gourmand</span>
        </div>
      </a>
      <div class="menu-liens">
        <a href="index.html" class="lien">Accueil</a>
        <a href="menus.html" class="lien actif">Menus</a>
        <a href="login.html" class="lien">Connexion</a>
        <a href="contact.html" class="lien">Contact</a>
      </div>
    </div>
  </div>

  <div style="padding: 40px 20px;">
    <div class="conteneur">
      <a href="menus.html" style="color: #8b2635; text-decoration: none; font-weight: 500;">← Retour aux menus</a>
      <br><br>
      <div id="contenuMenu"></div>
    </div>
  </div>

  <div class="footer">
    <div class="conteneur">
      <div style="text-align: center; padding: 20px;">© 2026 Vite & Gourmand</div>
    </div>
  </div>

  <script src="donnees.js"></script>
  <script>
    // recuperer id du menu
    var params = new URLSearchParams(window.location.search);
    var idMenu = params.get('id');
    
    // trouver le menu
    var menuTrouve = null;
    for(var i=0; i<lesMenus.length; i++) {
      if(lesMenus[i].id == idMenu) {
        menuTrouve = lesMenus[i];
        break;
      }
    }

    // afficher le menu
    if(menuTrouve != null) {
      var html = '<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 40px;">';
      html += '<div><img src="' + menuTrouve.image + '" style="width: 100%; height: 400px; object-fit: cover; border-radius: 8px;"></div>';
      html += '<div>';
      html += '<h1>' + menuTrouve.titre + '</h1>';
      html += '<p>' + menuTrouve.description + '</p>';
      html += '<div style="font-size: 2em; color: #8b2635; font-weight: bold; margin: 20px 0;">' + menuTrouve.prix.toFixed(2) + '€ <span style="font-size: 0.5em; font-weight: normal; color: #6b6b6b;">/personne</span></div>';
      
      // afficher les plats
      for(var j=0; j<menuTrouve.plats.length; j++) {
        html += '<div style="margin: 30px 0;">';
        html += '<h3 style="color: #8b2635;">' + menuTrouve.plats[j].nom + '</h3>';
        html += '<ul style="list-style: none; padding: 0;">';
        for(var k=0; k<menuTrouve.plats[j].items.length; k++) {
          html += '<li style="padding: 8px 0; padding-left: 25px; position: relative;"><span style="position: absolute; left: 0; color: #2d7a3e; font-weight: bold;">✓</span>' + menuTrouve.plats[j].items[k] + '</li>';
        }
        html += '</ul></div>';
      }
      
      html += '<div style="background: #fff3cd; padding: 15px; border-radius: 8px; margin: 20px 0;">';
      html += '<strong style="color: #f59e0b;">⚠️ Allergènes:</strong> ' + menuTrouve.allergenes.join(', ');
      html += '</div>';
      
      html += '<p><em>Minimum ' + menuTrouve.minPersonnes + ' personnes</em></p>';
      html += '<a href="commander.html?id=' + menuTrouve.id + '" style="background: #8b2635; color: white; padding: 15px 30px; text-decoration: none; border-radius: 8px; display: inline-block; margin-top: 20px;">Commander ce menu</a>';
      html += '</div></div>';
      
      document.getElementById('contenuMenu').innerHTML = html;
    } else {
      document.getElementById('contenuMenu').innerHTML = '<p>Menu non trouvé</p>';
    }
  </script>
</body>
</html>
